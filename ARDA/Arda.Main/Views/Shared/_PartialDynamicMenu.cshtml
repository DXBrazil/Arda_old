@using System.Security.Principal

@if (User.Identity.IsAuthenticated)
{
<div class="pull-left">

    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
    </button>

    <!-- Dynamic menu - Left side -->
    <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">

            <li class="nav-item">
                <a asp-controller="Home" asp-action="Index" class="nav-link">Home</a>
            </li>
            <li class="nav-item dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Users <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li>
                        <a asp-controller="User" asp-action="SetPermissions" class="nav-link">Set permissions</a>
                    </li>
                </ul>
            </li>

            <li class="nav-item dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Fiscal Years <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li>
                        <a asp-controller="FiscalYear" asp-action="Index" class="nav-link">All</a>
                    </li>
                </ul>
            </li>

        </ul>
    </div> 
       
    <!-- User infos -->
    <div style="line-height:70px;">
        <ul class="nav navbar-nav" style="float: right;">
            <li class="nav-item">Welcome, <strong>@User.Claims.First(claim => claim.Type == "name").Value</strong></li>&nbsp;
            <a asp-controller="Account" asp-action="SignOut" class="btn btn-danger btn-sm">Logout</a>
        </ul>
    </div>

</div>
}
else
{
    <a asp-controller="Account" asp-action="SignIn" class="icon-user"></a>
}

